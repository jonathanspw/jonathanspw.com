{{- $image := .Page.Resources.GetMatch (printf "%s" (.Destination | safeURL)) -}}

{{/* I use .Title to specify the max-width property */}}
<a href="{{ .Destination | safeURL }}"><img src="{{ .Destination | safeURL }}" alt="{{ .Text }}" {{ with $image }} width="{{ $image.Width }}" height="{{ $image.Height }}" {{ end }} {{ with .Title}} style="width: 100%; max-width: {{ . }};"{{ end }}/></a>